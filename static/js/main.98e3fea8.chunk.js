(window["webpackJsonpreact-demo"]=window["webpackJsonpreact-demo"]||[]).push([[0],{11:function(e,t,n){e.exports=n(17)},16:function(e,t,n){},17:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(4),i=n.n(c),o=n(8),u=n(2),l=n(5),s=n(6),m=n(10),h=n(7),y=n(1),f=n(9),v=function(e){var t=function(t){var n=t.target.value;isNaN(n)||(n>20&&(n=20),e.change(t.target.name,n))};return r.a.createElement("div",{className:"controller"},r.a.createElement("div",null,r.a.createElement("span",{className:"label"},"\u753b\u677f\u5927\u5c0f\uff1a"),r.a.createElement("input",{type:"text",name:"width",value:e.width,onChange:t}),r.a.createElement("span",null,"*"),r.a.createElement("input",{type:"text",name:"height",value:e.height,onChange:t})),r.a.createElement("div",null,r.a.createElement("span",{className:"label"},"\u8fde\u68cb\u6570\u91cf\uff1a"),r.a.createElement("input",{type:"text",name:"count",value:e.count,onChange:t})),r.a.createElement("div",null,r.a.createElement("span",{className:"label"},"\u4e0b\u4e00\u6b65\u68cb\uff1a"),r.a.createElement("span",null,e.winPlayer?"\u65e0":e.nextPlayer)),r.a.createElement("div",null,r.a.createElement("span",{className:"label"},"\u80dc\u5229\u73a9\u5bb6\uff1a"),r.a.createElement("span",null,e.winPlayer||"\u65e0")))},p=function(e){var t=e.x,n=e.y,a=e.data,c="".concat(n).concat(t),i=a[c]||{x:t,y:n},o="square";(e.winPlayer||i.value)&&(o+=" no-drop"),i.win&&(o+=" win-square");return r.a.createElement("div",{className:o,onClick:function(){i.value||(i.value=e.nextPlayer,e.squareClick(c,i))},title:"".concat(n,",").concat(t)},r.a.createElement("span",null," ",i.value))},d=function(e,t){for(var n=[],a=0;a<t;a++)n.push(e(a));return n},b=function(e){return d((function(t){return r.a.createElement(p,Object.assign({},e,{key:t,x:t}))}),e.width)},E=function(e){return d((function(t){return r.a.createElement("div",{className:"board-row",key:t},r.a.createElement(b,Object.assign({},e,{y:t})))}),e.height)},g=function(e){return r.a.createElement("div",{className:"board"},r.a.createElement(E,e))},w=function(e){var t=e.stepIndex;return r.a.createElement("div",{className:"history"},r.a.createElement("button",{onClick:e.initGame},"\u91cd\u65b0\u5f00\u59cb"),r.a.createElement("div",{className:"items",onMouseLeave:function(){return e.jumpTo(t,!1)}},e.history.map((function(n,a){var c=a===t;return r.a.createElement("button",{key:a,className:c?"current":"",onClick:function(){return e.jumpTo(a,!0)},onMouseEnter:function(){return e.jumpTo(a,!1)}},c?"\u5f53\u524d":"\u5feb\u7167"+(a+1))}))))};n(16);function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(n,!0).forEach((function(t){Object(u.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var x=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(m.a)(this,Object(h.a)(t).call(this,e))).state=n.getInitState(),n.boardSizeChange=n.boardSizeChange.bind(Object(y.a)(n)),n.squareClick=n.squareClick.bind(Object(y.a)(n)),n.jumpTo=n.jumpTo.bind(Object(y.a)(n)),n.initGame=n.initGame.bind(Object(y.a)(n)),n}return Object(f.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state;return r.a.createElement("div",{className:"game"},r.a.createElement("h1",{className:"game-title"},"TIC TAC TOE ",e.winPlayer?"\u6e38\u620f\u7ed3\u675f":""),r.a.createElement(w,{history:e.history,stepIndex:e.stepIndex,initGame:this.initGame,jumpTo:this.jumpTo}),r.a.createElement(g,Object.assign({},e,{squareClick:this.squareClick})),r.a.createElement(v,{width:e.width,height:e.height,count:e.count,winPlayer:e.winPlayer,nextPlayer:e.nextPlayer,change:this.boardSizeChange}))}},{key:"getInitState",value:function(){return{history:[],data:{},stepIndex:0,count:5,width:15,height:15,nextPlayer:"x",winPlayer:""}}},{key:"initGame",value:function(){this.setState(this.getInitState())}},{key:"calculateWinnerByCoord",value:function(e,t){var n=t.x,a=t.y,r=this.state.count-1,c=function(e,t){for(var n=[],a=0;a<e;a++){var c=t(a),i=c.now,o=c.next;if(i&&o&&i.value===o.value){if(n.push(i),n.length===r)return n.push(o),n}else n=[]}return""};return function(){var t=a-r<0?0:a-r;return c(a+r,(function(a){return{now:e["".concat(t+a).concat(n)],next:e["".concat(t+a+1).concat(n)]}}))}()||function(){var t=n-r<0?0:n-r;return c(n+r,(function(n){return{now:e["".concat(a).concat(t+n)],next:e["".concat(a).concat(t+n+1)]}}))}()||function(){var t=a-r,i=n-r;return c(r*r,(function(n){return{now:e["".concat(t+n).concat(i+n)],next:e["".concat(t+n+1).concat(i+n+1)]}}))}()||function(){var t=a-r,i=n+r;return c(r*r,(function(n){return{now:e["".concat(t+n).concat(i-n)],next:e["".concat(t+n+1).concat(i-n-1)]}}))}()}},{key:"boardSizeChange",value:function(e,t){this.setState(Object(u.a)({},e,t))}},{key:"jumpTo",value:function(e,t){var n=this.state.history[e];if(n)if(t)this.setState(n);else{var a=this.state,r=a.history,c=a.stepIndex;this.setState(O({},n,{history:r,stepIndex:c}))}}},{key:"squareClick",value:function(e,t){if(!this.state.winPlayer){var n=Object.assign({},this.state.data);n[e]=t;var a=this.calculateWinnerByCoord(n,t),r="";a&&(r=a[0].value,a.forEach((function(e){n["".concat(e.y).concat(e.x)].win=!0})));var c="o"===t.value?"x":"o",i=this.state.history.length,u=O({},this.state,{data:n,nextPlayer:c,winPlayer:r,stepIndex:i});u.history=[].concat(Object(o.a)(this.state.history),[u]),this.setState(u)}}}]),t}(r.a.Component);i.a.render(r.a.createElement(x,null),document.getElementById("root"))}},[[11,1,2]]]);
//# sourceMappingURL=main.98e3fea8.chunk.js.map